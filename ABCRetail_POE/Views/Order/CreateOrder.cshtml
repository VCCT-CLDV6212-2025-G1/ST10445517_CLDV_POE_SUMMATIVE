@model ClassLibrary.Models.Order

@{
    var customers = ViewData["Customer"] as List<ClassLibrary.Models.Customer>;
    var products = ViewData["Product"] as List<ClassLibrary.Models.Product>;
}

<h1>CreateOrder</h1>

<h4>Order</h4>
<hr />

@if (customers == null || customers.Count == 0 || products == null || products.Count == 0)
{
    <div class="alert alert-warning">
        No customers or products available. Please add them first
    </div>
}
else
{
            <form asp-action="CreateOrder">
                <div class="form-group">
                    <label asp-for="CustomerID">Select Customer</label>
                    <select asp-for="CustomerID" class="form-control" asp-items="@(new SelectList(customers,"CustomerID","CustomerName"))">
                    <option value="">-- Select Customer --</option>
                    </select>
                    <span asp-validation-for="CustomerID" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="ProductID">Select Product</label>
                    <select asp-for="ProductID" class="form-control" asp-items="@(new SelectList(products, "ProductID", "ProductName"))">
                        <option value="">-- Select Product--</option>
                    </select>
                    <span asp-validation-for="ProductID" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <input type="submit" value="Create" class="btn btn-primary" />
                </div>
            </form>

}

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
